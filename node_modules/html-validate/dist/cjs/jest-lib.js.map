{"version":3,"file":"jest-lib.js","sources":["../../src/jest/utils/diff.ts","../../src/jest/utils/is-thenable.ts","../../src/jest/utils/diverge.ts","../../src/jest/utils/flatten-messages.ts","../../src/jest/matchers/to-be-valid.ts","../../src/jest/matchers/to-be-invalid.ts","../../src/jest/matchers/to-htmlvalidate.ts","../../src/jest/matchers/to-have-error.ts","../../src/jest/matchers/to-have-errors.ts","../../src/jest/matchers/get-results.ts","../../src/jest/matchers/to-match-codeframe.ts","../../src/jest/matchers/to-match-inline-codeframe.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment -- this code needs to work\n * with multiple different versions of jest and it does verification of which\n * one is actually present but the other variants will cause errors, as is expected */\n/* eslint-disable @typescript-eslint/prefer-ts-expect-error -- one of the\n * variants will always not be an error */\nimport jestDiffDefault, * as jestDiff from \"jest-diff\";\n/* ignore typing for compatibility so it will seem \"impossible\" but different\n * version will yield different source */\n/* istanbul ignore next: this is covered by integration tests */\nconst diffCandidates = [\n    // @ts-ignore\n    jestDiffDefault === null || jestDiffDefault === void 0 ? void 0 : jestDiffDefault.diff,\n    // @ts-ignore\n    jestDiffDefault,\n    // @ts-ignore\n    jestDiff === null || jestDiff === void 0 ? void 0 : jestDiff.diff,\n    // @ts-ignore\n    jestDiff,\n];\nconst isFunction = (fn) => typeof fn === \"function\";\n/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- assume\n * one of the candidate matches, there will be a reasonable error later on if\n * not */\nexport const diff = diffCandidates.find(isFunction);\n//# sourceMappingURL=diff.js.map","export function isThenable(src) {\n    return src && typeof src === \"object\" && typeof src.then === \"function\";\n}\n//# sourceMappingURL=is-thenable.js.map","import { isThenable } from \"./is-thenable\";\n/**\n * Creates a wrapped function based on the passed function.\n *\n * The returned function takes either a `T` or `Promise<T>`. If `T` the result\n * will be synchronous or if `Promise<T>` the result will be asynchronous.\n *\n * In practice this means that if you pass a synchronous object into it you will\n * maintain synchronous code but if you pass an asynchronous object you must\n * await the result.\n */\nexport function diverge(fn) {\n    function diverged(actual, ...args) {\n        if (isThenable(actual)) {\n            return actual.then((resolved) => fn.call(this, resolved, ...args));\n        }\n        else {\n            return fn.call(this, actual, ...args);\n        }\n    }\n    return diverged;\n}\n//# sourceMappingURL=diverge.js.map","/**\n * Takes all messages from all files and flattens to a single array.\n */\nexport function flattenMessages(report) {\n    return report.results.reduce((aggregated, result) => {\n        return aggregated.concat(result.messages);\n    }, []);\n}\n//# sourceMappingURL=flatten-messages.js.map","import { diverge } from \"../utils\";\nfunction toBeValid(report) {\n    if (report.valid) {\n        return {\n            pass: true,\n            message: /* istanbul ignore next */ () => \"Result should not contain error\",\n        };\n    }\n    else {\n        const firstError = report.results[0].messages[0];\n        return {\n            pass: false,\n            message: () => `Result should be valid but had error \"${firstError.message}\"`,\n        };\n    }\n}\nexport default diverge(toBeValid);\n//# sourceMappingURL=to-be-valid.js.map","import { diverge } from \"../utils\";\nfunction toBeInvalid(report) {\n    if (report.valid) {\n        return {\n            pass: false,\n            message: () => \"Result should be invalid but had no errors\",\n        };\n    }\n    else {\n        return {\n            pass: true,\n            message: /* istanbul ignore next */ () => \"Result should not contain error\",\n        };\n    }\n}\nexport default diverge(toBeInvalid);\n//# sourceMappingURL=to-be-invalid.js.map","import deepmerge from \"deepmerge\";\nimport { FileSystemConfigLoader } from \"../../config/loaders/file-system\";\nimport { HtmlValidate } from \"../../htmlvalidate\";\nimport { diff, diverge } from \"../utils\";\nfunction isMessage(arg) {\n    if (!arg) {\n        return false;\n    }\n    return Boolean(arg.ruleId ||\n        arg.severity ||\n        arg.message ||\n        arg.offset ||\n        arg.line ||\n        arg.column ||\n        arg.size ||\n        arg.selector ||\n        arg.context);\n}\nfunction isConfig(arg) {\n    if (!arg) {\n        return false;\n    }\n    return Boolean(arg.root || arg.extends || arg.elements || arg.plugin || arg.transform || arg.rules);\n}\nfunction isString(arg) {\n    return typeof arg === \"string\";\n}\nfunction getMarkup(src) {\n    if (typeof HTMLElement !== \"undefined\" && src instanceof HTMLElement) {\n        return src.outerHTML;\n    }\n    /* istanbul ignore else: prototype only allows string or HTMLElement */\n    if (typeof src === \"string\") {\n        return src;\n    }\n    else {\n        throw new Error(`Failed to get markup from \"${typeof src}\" argument`);\n    }\n}\nfunction toHTMLValidate(actual, arg0, arg1, arg2) {\n    const markup = getMarkup(actual);\n    const message = isMessage(arg0) ? arg0 : undefined;\n    const config = isConfig(arg0) ? arg0 : isConfig(arg1) ? arg1 : undefined;\n    const filename = isString(arg0) ? arg0 : isString(arg1) ? arg1 : arg2;\n    return toHTMLValidateImpl.call(this, markup, message, config, filename);\n}\nfunction toHTMLValidateImpl(actual, expectedError, userConfig, filename) {\n    var _a;\n    const defaultConfig = {\n        rules: {\n            /* jsdom normalizes style so disabling rule when using this matcher or it\n             * gets quite noisy when configured with self-closing */\n            \"void-style\": \"off\",\n        },\n    };\n    const config = deepmerge(defaultConfig, userConfig !== null && userConfig !== void 0 ? userConfig : {});\n    /* istanbul ignore next: cant figure out when this would be unset */\n    const actualFilename = (_a = filename !== null && filename !== void 0 ? filename : this.testPath) !== null && _a !== void 0 ? _a : \"inline\";\n    const loader = new FileSystemConfigLoader({\n        extends: [\"html-validate:recommended\"],\n    });\n    const htmlvalidate = new HtmlValidate(loader);\n    const report = htmlvalidate.validateStringSync(actual, actualFilename, config);\n    const pass = report.valid;\n    if (pass) {\n        return { pass, message: () => \"HTML is valid when an error was expected\" };\n    }\n    else {\n        if (expectedError) {\n            /* eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- outside our control, this is what jest gives us back and it gladly accepts it back */\n            const matcher = expect.arrayContaining([expect.objectContaining(expectedError)]);\n            const errorPass = this.equals(report.results[0].messages, matcher);\n            const diffString = diff(matcher, report.results[0].messages, {\n                expand: this.expand,\n                aAnnotation: \"Expected error\",\n                bAnnotation: \"Actual error\",\n            });\n            const hint = this.utils.matcherHint(\".not.toHTMLValidate\", undefined, undefined, {\n                comment: \"expected error\",\n            });\n            const expectedErrorMessage = () => [\n                hint,\n                \"\",\n                \"Expected error to be present:\",\n                this.utils.printExpected(expectedError),\n                /* istanbul ignore next */ diffString ? `\\n${diffString}` : \"\",\n            ].join(\"\\n\");\n            return { pass: !errorPass, message: expectedErrorMessage };\n        }\n        const errors = report.results[0].messages.map((message) => `  ${message.message} [${message.ruleId}]`);\n        return {\n            pass,\n            message: () => [\"Expected HTML to be valid but had the following errors:\", \"\"].concat(errors).join(\"\\n\"),\n        };\n    }\n}\nexport default diverge(toHTMLValidate);\n//# sourceMappingURL=to-htmlvalidate.js.map","import { diff, diverge } from \"../utils\";\nimport { flattenMessages } from \"../utils/flatten-messages\";\nfunction toHaveErrorImpl(jest, actual, expected) {\n    const flattened = flattenMessages(actual);\n    const matcher = [expect.objectContaining(expected)];\n    const pass = jest.equals(flattened, matcher);\n    const diffString = diff(matcher, flattened, { expand: jest.expand });\n    const hint = jest.utils.matcherHint(\".toHaveError\");\n    const prettyExpected = jest.utils.printExpected(matcher);\n    const prettyReceived = jest.utils.printReceived(flattened);\n    const resultMessage = () => {\n        return [\n            hint,\n            \"\",\n            \"Expected error to equal:\",\n            `  ${prettyExpected}`,\n            \"Received:\",\n            `  ${prettyReceived}`,\n            /* istanbul ignore next */ diffString ? `\\nDifference:\\n\\n${diffString}` : \"\",\n        ].join(\"\\n\");\n    };\n    return { pass, message: resultMessage };\n}\nfunction toHaveError(actual, arg1, arg2, arg3) {\n    if (typeof arg1 === \"string\") {\n        const expected = {\n            ruleId: arg1,\n            message: arg2,\n        };\n        if (arg3) {\n            /* eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- this is supposed to accept anything */\n            expected.context = arg3;\n        }\n        return toHaveErrorImpl(this, actual, expected);\n    }\n    else {\n        return toHaveErrorImpl(this, actual, arg1);\n    }\n}\nexport default diverge(toHaveError);\n//# sourceMappingURL=to-have-error.js.map","/* eslint-disable prefer-template -- technical debt, should be refactored */\nimport { diff, diverge, flattenMessages } from \"../utils\";\nfunction toHaveErrors(report, errors) {\n    const flattened = flattenMessages(report);\n    const matcher = errors.map((entry) => {\n        if (Array.isArray(entry)) {\n            const [ruleId, message] = entry;\n            /* eslint-disable-next-line @typescript-eslint/no-unsafe-return -- jest type is declared like this */\n            return expect.objectContaining({ ruleId, message });\n        }\n        else {\n            /* eslint-disable-next-line @typescript-eslint/no-unsafe-return -- jest type is declared like this  */\n            return expect.objectContaining(entry);\n        }\n    });\n    const pass = this.equals(flattened, matcher);\n    const diffString = diff(matcher, flattened, { expand: this.expand });\n    const resultMessage = () => this.utils.matcherHint(\".toHaveErrors\") +\n        \"\\n\\n\" +\n        \"Expected error to equal:\\n\" +\n        `  ${this.utils.printExpected(matcher)}\\n` +\n        \"Received:\\n\" +\n        `  ${this.utils.printReceived(flattened)}` +\n        /* istanbul ignore next */ (diffString ? `\\n\\nDifference:\\n\\n${diffString}` : \"\");\n    return { pass, message: resultMessage };\n}\nexport default diverge(toHaveErrors);\n//# sourceMappingURL=to-have-errors.js.map","import { FileSystemConfigLoader } from \"../../config/loaders/file-system\";\nimport { HtmlValidate } from \"../../htmlvalidate\";\n/**\n * @internal\n */\nexport function getResults(filename, value) {\n    if (typeof value === \"string\") {\n        const loader = new FileSystemConfigLoader({\n            extends: [\"html-validate:recommended\"],\n        });\n        const htmlvalidate = new HtmlValidate(loader);\n        const report = htmlvalidate.validateStringSync(value, filename, {\n            rules: {\n                \"void-style\": \"off\",\n            },\n        });\n        return report.results.map((it) => {\n            return { ...it, filePath: \"inline\" };\n        });\n    }\n    else {\n        return value.results;\n    }\n}\n//# sourceMappingURL=get-results.js.map","import kleur from \"kleur\";\nimport { toMatchSnapshot } from \"jest-snapshot\";\nimport { codeframe } from \"../../formatters/codeframe\";\nimport { diverge } from \"../utils\";\nimport { getResults } from \"./get-results\";\nconst options = {\n    showLink: false,\n    showSummary: false,\n    showSelector: true,\n};\nfunction toMatchCodeframe(actual, ...rest) {\n    var _a;\n    /* istanbul ignore next: cant figure out when this would be unset */\n    const filename = (_a = this.testPath) !== null && _a !== void 0 ? _a : \"inline\";\n    const results = getResults(filename, actual);\n    const enabled = kleur.enabled;\n    kleur.enabled = false;\n    const snapshot = codeframe(results, options).replace(/\\s+$/gm, \"\");\n    kleur.enabled = enabled;\n    /* eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call --\n     * the implementation works but the declarations doesn't allow it */\n    return toMatchSnapshot.call(this, snapshot, ...rest);\n}\nexport default diverge(toMatchCodeframe);\n//# sourceMappingURL=to-match-codeframe.js.map","import kleur from \"kleur\";\nimport { toMatchInlineSnapshot } from \"jest-snapshot\";\nimport { codeframe } from \"../../formatters/codeframe\";\nimport { isThenable } from \"../utils\";\nimport { getResults } from \"./get-results\";\nconst options = {\n    showLink: false,\n    showSummary: false,\n    showSelector: true,\n};\nfunction toMatchInlineCodeframeImpl(context, actual, ...rest) {\n    var _a;\n    /* istanbul ignore next: cant figure out when this would be unset */\n    const filename = (_a = context.testPath) !== null && _a !== void 0 ? _a : \"inline\";\n    const results = getResults(filename, actual);\n    const enabled = kleur.enabled;\n    kleur.enabled = false;\n    const snapshot = codeframe(results, options).replace(/\\s+$/gm, \"\");\n    kleur.enabled = enabled;\n    /* eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call --\n     * the implementation works but the declarations doesn't allow it */\n    return toMatchInlineSnapshot.call(context, snapshot, ...rest);\n}\nfunction toMatchInlineCodeframe(actual, ...rest) {\n    const context = {\n        ...this,\n        /* Capture the original stack frames as they are needed by \"jest-snapshot\"\n         * to determine where to write the inline snapshots. When resolving the\n         * promise the original stack frames are lost and the snapshot will be\n         * written in this files instaed. */\n        error: new Error(),\n    };\n    if (isThenable(actual)) {\n        return actual.then((resolved) => toMatchInlineCodeframeImpl(context, resolved, ...rest));\n    }\n    else {\n        return toMatchInlineCodeframeImpl(context, actual, ...rest);\n    }\n}\nexport default toMatchInlineCodeframe;\n//# sourceMappingURL=to-match-inline-codeframe.js.map"],"names":["jestDiffDefault","jestDiff","deepmerge","FileSystemConfigLoader","HtmlValidate","options","kleur","codeframe","toMatchSnapshot","toMatchInlineSnapshot"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,MAAM,cAAc,GAAG;AACvB;AACA,IAAIA,kCAAe,KAAK,IAAI,IAAIA,kCAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kCAAe,CAAC,IAAI;AAC1F;AACA,IAAIA,kCAAe;AACnB;AACA,IAAIC,0BAAQ,KAAK,IAAI,IAAIA,0BAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,0BAAQ,CAAC,IAAI;AACrE;AACA,IAAIA,0BAAQ;AACZ,CAAC,CAAC;AACF,MAAM,UAAU,GAAG,CAAC,EAAE,KAAK,OAAO,EAAE,KAAK,UAAU,CAAC;AACpD;AACA;AACA;AACO,MAAM,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC;;ACvB5C,SAAS,UAAU,CAAC,GAAG,EAAE;AAChC,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,UAAU,CAAC;AAC5E;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,OAAO,CAAC,EAAE,EAAE;AAC5B,IAAI,SAAS,QAAQ,CAAC,MAAM,EAAE,GAAG,IAAI,EAAE;AACvC,QAAQ,IAAI,UAAU,CAAC,MAAM,CAAC,EAAE;AAChC,YAAY,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AAC/E,SAAS;AACT,aAAa;AACb,YAAY,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;AAClD,SAAS;AACT,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB;;ACrBA;AACA;AACA;AACO,SAAS,eAAe,CAAC,MAAM,EAAE;AACxC,IAAI,OAAO,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,MAAM,KAAK;AACzD,QAAQ,OAAO,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAClD,KAAK,EAAE,EAAE,CAAC,CAAC;AACX;;ACNA,SAAS,SAAS,CAAC,MAAM,EAAE;AAC3B,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE;AACtB,QAAQ,OAAO;AACf,YAAY,IAAI,EAAE,IAAI;AACtB,YAAY,OAAO,6BAA6B,MAAM,iCAAiC;AACvF,SAAS,CAAC;AACV,KAAK;AACL,SAAS;AACT,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACzD,QAAQ,OAAO;AACf,YAAY,IAAI,EAAE,KAAK;AACvB,YAAY,OAAO,EAAE,MAAM,CAAC,sCAAsC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;AACzF,SAAS,CAAC;AACV,KAAK;AACL,CAAC;AACD,kBAAe,OAAO,CAAC,SAAS,CAAC;;ACfjC,SAAS,WAAW,CAAC,MAAM,EAAE;AAC7B,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE;AACtB,QAAQ,OAAO;AACf,YAAY,IAAI,EAAE,KAAK;AACvB,YAAY,OAAO,EAAE,MAAM,4CAA4C;AACvE,SAAS,CAAC;AACV,KAAK;AACL,SAAS;AACT,QAAQ,OAAO;AACf,YAAY,IAAI,EAAE,IAAI;AACtB,YAAY,OAAO,6BAA6B,MAAM,iCAAiC;AACvF,SAAS,CAAC;AACV,KAAK;AACL,CAAC;AACD,oBAAe,OAAO,CAAC,WAAW,CAAC;;ACXnC,SAAS,SAAS,CAAC,GAAG,EAAE;AACxB,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM;AAC7B,QAAQ,GAAG,CAAC,QAAQ;AACpB,QAAQ,GAAG,CAAC,OAAO;AACnB,QAAQ,GAAG,CAAC,MAAM;AAClB,QAAQ,GAAG,CAAC,IAAI;AAChB,QAAQ,GAAG,CAAC,MAAM;AAClB,QAAQ,GAAG,CAAC,IAAI;AAChB,QAAQ,GAAG,CAAC,QAAQ;AACpB,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC;AACrB,CAAC;AACD,SAAS,QAAQ,CAAC,GAAG,EAAE;AACvB,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC;AACxG,CAAC;AACD,SAAS,QAAQ,CAAC,GAAG,EAAE;AACvB,IAAI,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC;AACnC,CAAC;AACD,SAAS,SAAS,CAAC,GAAG,EAAE;AACxB,IAAI,IAAI,OAAO,WAAW,KAAK,WAAW,IAAI,GAAG,YAAY,WAAW,EAAE;AAC1E,QAAQ,OAAO,GAAG,CAAC,SAAS,CAAC;AAC7B,KAAK;AACL;AACA,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AACjC,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,SAAS;AACT,QAAQ,MAAM,IAAI,KAAK,CAAC,CAAC,2BAA2B,EAAE,OAAO,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;AAC9E,KAAK;AACL,CAAC;AACD,SAAS,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAClD,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;AACrC,IAAI,MAAM,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC;AACvD,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC;AAC7E,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;AAC1E,IAAI,OAAO,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AAC5E,CAAC;AACD,SAAS,kBAAkB,CAAC,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,QAAQ,EAAE;AACzE,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,MAAM,aAAa,GAAG;AAC1B,QAAQ,KAAK,EAAE;AACf;AACA;AACA,YAAY,YAAY,EAAE,KAAK;AAC/B,SAAS;AACT,KAAK,CAAC;AACN,IAAI,MAAM,MAAM,GAAGC,0BAAS,CAAC,aAAa,EAAE,UAAU,KAAK,IAAI,IAAI,UAAU,KAAK,KAAK,CAAC,GAAG,UAAU,GAAG,EAAE,CAAC,CAAC;AAC5G;AACA,IAAI,MAAM,cAAc,GAAG,CAAC,EAAE,GAAG,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC;AAChJ,IAAI,MAAM,MAAM,GAAG,IAAIC,iCAAsB,CAAC;AAC9C,QAAQ,OAAO,EAAE,CAAC,2BAA2B,CAAC;AAC9C,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,YAAY,GAAG,IAAIC,iBAAY,CAAC,MAAM,CAAC,CAAC;AAClD,IAAI,MAAM,MAAM,GAAG,YAAY,CAAC,kBAAkB,CAAC,MAAM,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC;AACnF,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC;AAC9B,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,0CAA0C,EAAE,CAAC;AACnF,KAAK;AACL,SAAS;AACT,QAAQ,IAAI,aAAa,EAAE;AAC3B;AACA,YAAY,MAAM,OAAO,GAAG,MAAM,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;AAC7F,YAAY,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC/E,YAAY,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;AACzE,gBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnC,gBAAgB,WAAW,EAAE,gBAAgB;AAC7C,gBAAgB,WAAW,EAAE,cAAc;AAC3C,aAAa,CAAC,CAAC;AACf,YAAY,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,SAAS,EAAE,SAAS,EAAE;AAC7F,gBAAgB,OAAO,EAAE,gBAAgB;AACzC,aAAa,CAAC,CAAC;AACf,YAAY,MAAM,oBAAoB,GAAG,MAAM;AAC/C,gBAAgB,IAAI;AACpB,gBAAgB,EAAE;AAClB,gBAAgB,+BAA+B;AAC/C,gBAAgB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC;AACvD,2CAA2C,UAAU,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE;AAC9E,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzB,YAAY,OAAO,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;AACvE,SAAS;AACT,QAAQ,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/G,QAAQ,OAAO;AACf,YAAY,IAAI;AAChB,YAAY,OAAO,EAAE,MAAM,CAAC,yDAAyD,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AACpH,SAAS,CAAC;AACV,KAAK;AACL,CAAC;AACD,uBAAe,OAAO,CAAC,cAAc,CAAC;;AC9FtC,SAAS,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE;AACjD,IAAI,MAAM,SAAS,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;AAC9C,IAAI,MAAM,OAAO,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxD,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AACjD,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;AACzE,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;AACxD,IAAI,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC7D,IAAI,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAC/D,IAAI,MAAM,aAAa,GAAG,MAAM;AAChC,QAAQ,OAAO;AACf,YAAY,IAAI;AAChB,YAAY,EAAE;AACd,YAAY,0BAA0B;AACtC,YAAY,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;AACjC,YAAY,WAAW;AACvB,YAAY,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;AACjC,uCAAuC,UAAU,GAAG,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE;AACzF,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrB,KAAK,CAAC;AACN,IAAI,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;AAC5C,CAAC;AACD,SAAS,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAC/C,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAClC,QAAQ,MAAM,QAAQ,GAAG;AACzB,YAAY,MAAM,EAAE,IAAI;AACxB,YAAY,OAAO,EAAE,IAAI;AACzB,SAAS,CAAC;AACV,QAAQ,IAAI,IAAI,EAAE;AAClB;AACA,YAAY,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;AACpC,SAAS;AACT,QAAQ,OAAO,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AACvD,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;AACnD,KAAK;AACL,CAAC;AACD,oBAAe,OAAO,CAAC,WAAW,CAAC;;ACvCnC;AAEA,SAAS,YAAY,CAAC,MAAM,EAAE,MAAM,EAAE;AACtC,IAAI,MAAM,SAAS,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;AAC9C,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK;AAC1C,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAClC,YAAY,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC;AAC5C;AACA,YAAY,OAAO,MAAM,CAAC,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC;AAChE,SAAS;AACT,aAAa;AACb;AACA,YAAY,OAAO,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;AAClD,SAAS;AACT,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AACjD,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;AACzE,IAAI,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,eAAe,CAAC;AACvE,QAAQ,MAAM;AACd,QAAQ,4BAA4B;AACpC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;AAClD,QAAQ,aAAa;AACrB,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC;AAClD,oCAAoC,UAAU,GAAG,CAAC,mBAAmB,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;AAC1F,IAAI,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;AAC5C,CAAC;AACD,qBAAe,OAAO,CAAC,YAAY,CAAC;;ACxBpC;AACA;AACA;AACO,SAAS,UAAU,CAAC,QAAQ,EAAE,KAAK,EAAE;AAC5C,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACnC,QAAQ,MAAM,MAAM,GAAG,IAAID,iCAAsB,CAAC;AAClD,YAAY,OAAO,EAAE,CAAC,2BAA2B,CAAC;AAClD,SAAS,CAAC,CAAC;AACX,QAAQ,MAAM,YAAY,GAAG,IAAIC,iBAAY,CAAC,MAAM,CAAC,CAAC;AACtD,QAAQ,MAAM,MAAM,GAAG,YAAY,CAAC,kBAAkB,CAAC,KAAK,EAAE,QAAQ,EAAE;AACxE,YAAY,KAAK,EAAE;AACnB,gBAAgB,YAAY,EAAE,KAAK;AACnC,aAAa;AACb,SAAS,CAAC,CAAC;AACX,QAAQ,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK;AAC1C,YAAY,OAAO,EAAE,GAAG,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;AACjD,SAAS,CAAC,CAAC;AACX,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,KAAK,CAAC,OAAO,CAAC;AAC7B,KAAK;AACL;;AClBA,MAAMC,SAAO,GAAG;AAChB,IAAI,QAAQ,EAAE,KAAK;AACnB,IAAI,WAAW,EAAE,KAAK;AACtB,IAAI,YAAY,EAAE,IAAI;AACtB,CAAC,CAAC;AACF,SAAS,gBAAgB,CAAC,MAAM,EAAE,GAAG,IAAI,EAAE;AAC3C,IAAI,IAAI,EAAE,CAAC;AACX;AACA,IAAI,MAAM,QAAQ,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC;AACpF,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACjD,IAAI,MAAM,OAAO,GAAGC,sBAAK,CAAC,OAAO,CAAC;AAClC,IAAIA,sBAAK,CAAC,OAAO,GAAG,KAAK,CAAC;AAC1B,IAAI,MAAM,QAAQ,GAAGC,cAAS,CAAC,OAAO,EAAEF,SAAO,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AACvE,IAAIC,sBAAK,CAAC,OAAO,GAAG,OAAO,CAAC;AAC5B;AACA;AACA,IAAI,OAAOE,4BAAe,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;AACzD,CAAC;AACD,yBAAe,OAAO,CAAC,gBAAgB,CAAC;;AClBxC,MAAM,OAAO,GAAG;AAChB,IAAI,QAAQ,EAAE,KAAK;AACnB,IAAI,WAAW,EAAE,KAAK;AACtB,IAAI,YAAY,EAAE,IAAI;AACtB,CAAC,CAAC;AACF,SAAS,0BAA0B,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,IAAI,EAAE;AAC9D,IAAI,IAAI,EAAE,CAAC;AACX;AACA,IAAI,MAAM,QAAQ,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC;AACvF,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACjD,IAAI,MAAM,OAAO,GAAGF,sBAAK,CAAC,OAAO,CAAC;AAClC,IAAIA,sBAAK,CAAC,OAAO,GAAG,KAAK,CAAC;AAC1B,IAAI,MAAM,QAAQ,GAAGC,cAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AACvE,IAAID,sBAAK,CAAC,OAAO,GAAG,OAAO,CAAC;AAC5B;AACA;AACA,IAAI,OAAOG,kCAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;AAClE,CAAC;AACD,SAAS,sBAAsB,CAAC,MAAM,EAAE,GAAG,IAAI,EAAE;AACjD,IAAI,MAAM,OAAO,GAAG;AACpB,QAAQ,GAAG,IAAI;AACf;AACA;AACA;AACA;AACA,QAAQ,KAAK,EAAE,IAAI,KAAK,EAAE;AAC1B,KAAK,CAAC;AACN,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,EAAE;AAC5B,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,0BAA0B,CAAC,OAAO,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACjG,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,0BAA0B,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;AACpE,KAAK;AACL;;;;;;;;;;"}